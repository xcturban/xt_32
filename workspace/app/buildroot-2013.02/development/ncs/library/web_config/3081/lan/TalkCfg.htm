<HTML>
<HEAD>
<META http-equiv=Content-Language content=zh-cn>
<META http-equiv=Content-Type content="text/html; charset=utf-8">
<META http-equiv="Pragma" content="no-cache">
<META content="MSHTML 6.00.2800.1106" name=GENERATOR>
<link rel="stylesheet" href="/css/main.css"/>
<script language=javascript type=text/javascript src=/js/Common.js ></script>
</HEAD>
<BODY onresize="Resize(this);" onload="bd_load()">
<iframe style="display:none" name=db onload="db_load()" ></iframe>
        <CENTER>
            <FORM method=GET action=/cgi-bin/response_x2i.cgi onsubmit="return on_submit()">
		<input type=hidden name=obj_x2i value=talk_cfg.x2i >
		<input type=hidden name=obj_sh value=response_TalkCfg.sh >
		<input type=hidden name=obj_ret value=/cache/TalkCfg.htm id=id_obj_ret >
<DIV class=container >
  <div class=title>
    <div class=title_left ><img width="7" height="24" src="/images/arc.gif" complete="complete" /></div>
    <div class=title_right ><?cgi string=str.talk_options ?></div>
  </div>
  <div class=div_main_edge>
  <DIV class=div_main>

      <DIV class=class_row>
        <DIV class=class_col1><?cgi string=str.talk_in_volume ?>:</DIV>
        <DIV class=class_col2>
            <select name=talk_cfg_volume_in class="l100" >
            <script>select_option(0, 16, 0, "", "");</script>
            </select>
	</DIV>
      </DIV>

      <DIV class=class_row>
        <DIV class=class_col1><?cgi string=str.talk_out_volume ?>:</DIV>
        <DIV class=class_col2>
            <select name=talk_cfg_volume_out class="l100" >
            <script>select_option(0, 16, 0, "", "");</script>
            </select>
	</DIV>
      </DIV>

      <DIV class=class_row>
        <DIV class=class_col1><?cgi string=str.talk_alert_volume ?>:</DIV>
        <DIV class=class_col2>
            <select name=talk_cfg_volume_ring class="l100" >
            <script>select_option(0, 16, 0, "", "");</script>
            </select>
	</DIV>
      </DIV>

      <DIV class=class_row>
        <DIV class=class_col1><?cgi string=str.encode_mode ?>:</DIV>
        <DIV class=class_col2>
          <input class=radio type=radio name=talk_cfg_is_pcm value=0 ><div class="l40 radio_text">ADPCM</div>
	  <input class=radio type=radio name=talk_cfg_is_pcm value=1 ><div class="l40 radio_text">PCM</div>
	</DIV>
      </DIV>
      <DIV class=class_row>
        <DIV class=class_col1><?cgi string=str.sample_rate ?>:</DIV>
        <DIV class=class_col2>
          <input class=radio type=radio name=talk_cfg_sample value=0 ><div class="l40 radio_text">8K</div>
	  <input class=radio type=radio name=talk_cfg_sample value=1 ><div class="l40 radio_text">22K</div>
	</DIV>
      </DIV>
<!--  3081中没有配置对讲输入 -->	  
      <DIV class=class_row style="display:none;">
        <DIV class=class_col1><?cgi string=str.in_channel ?>:</DIV>
        <DIV class=class_col2>
          <input class=radio type=radio name=talk_cfg_mode_in value=0 ><div class="l40 radio_text"><?cgi string=str.mic_in ?></div>
	  <input class=radio type=radio name=talk_cfg_mode_in value=1 ><div class="l40 radio_text"><?cgi string=str.line_in ?></div>
	</DIV>
      </DIV>
<!--  3081中线路输出走HPO会反馈至输入，软件无法解决，删除此功能 -->
      <DIV class=class_row style="display:none;">
        <DIV class=class_col1><?cgi string=str.out_channel ?>:</DIV>
        <DIV class=class_col2>
          <input class=radio type=radio name=talk_cfg_mode_out value=0 ><div class="l40 radio_text"><?cgi string=str.speaker_out ?></div>
	  <input class=radio type=radio name=talk_cfg_mode_out value=1 ><div class="l40 radio_text"><?cgi string=str.line_out ?></div>
	</DIV>
      </DIV>

      <DIV class=class_row style="display:none;">
        <DIV class=class_col1><?cgi string=str.key_calling ?>:</DIV>
        <DIV class=class_col2>
          <input class=radio type=radio name=talk_cfg_key_down_call value=0 ><div class="l40 radio_text"><?cgi string=str.up_calling ?></div>
	  <input class=radio type=radio name=talk_cfg_key_down_call value=1 ><div class="l40 radio_text"><?cgi string=str.down_calling ?></div>
	</DIV>
      </DIV>
      <DIV class=class_row>
        <DIV class=class_col1><?cgi string=str.join_talking ?>:</DIV>
        <DIV class=class_col2>
          <input class=radio type=radio name=talk_cfg_enable_join value=0 ><div class="l40 radio_text"><?cgi string=str.disable ?></div>
	  <input class=radio type=radio name=talk_cfg_enable_join value=1 ><div class="l40 radio_text"><?cgi string=str.enable ?></div>
	</DIV>
      </DIV>
      <DIV class=class_row>
        <DIV class=class_col1><?cgi string=str.requesting_talk ?>:</DIV>
        <DIV class=class_col2>
          <input class=radio type=radio name=terminal_requesting_talk_hangup value=0 ><div class="l40 radio_text"><?cgi string=str.unable_hang ?></div>
	  <input class=radio type=radio name=terminal_requesting_talk_hangup value=1 ><div class="l40 radio_text"><?cgi string=str.enable_hang ?></div>
	</DIV>
      </DIV>
      <DIV class=class_row>
        <DIV class=class_col1><?cgi string=str.accessing_talk ?>:</DIV>
        <DIV class=class_col2>
          <input class=radio type=radio name=terminal_accessing_talk_hangup value=0 ><div class="l40 radio_text"><?cgi string=str.unable_hang ?></div>
	  <input class=radio type=radio name=terminal_accessing_talk_hangup value=1 ><div class="l40 radio_text"><?cgi string=str.enable_hang ?></div>
	</DIV>
      </DIV>

      <DIV class=class_row>
        <DIV class=class_col1><?cgi string=str.accessing_talk ?>:</DIV>
        <DIV class=class_col2>
          <input class=radio type=radio name=terminal_auto_answer value=0 ><div class="l40 radio_text"><?cgi string=str.manul_access ?></div>
	  <input class=radio type=radio name=terminal_auto_answer value=1 ><div class="l40 radio_text"><?cgi string=str.auto_access ?></div>
	</DIV>
      </DIV>

      <DIV class=class_row style="display:none;">
        <DIV class=class_col1><?cgi string=str.auto_access_waiting_time ?>:</DIV>
        <DIV class=class_col2>
            <select name=talk_cfg_waiting_time class="l100" >
            <script>select_option(0, 31, 0, "", "s");</script>
            </select>
	</DIV>
      </DIV>

      <DIV class=class_row>
        <DIV class=class_col1><?cgi string=str.talk_echo ?>:</DIV>
        <DIV class=class_col2>
	  <input class=radio type=radio name=talk_cfg_echo value=1 ><div class="l40 radio_text"><?cgi string=str.enable_use ?></div>
          <input class=radio type=radio name=talk_cfg_echo value=0 ><div class="l40 radio_text"><?cgi string=str.disable_use ?></div>
	</DIV>
      </DIV>
      <DIV class=class_row>
        <DIV class=class_col1><?cgi string=str.talk_environment ?>:</DIV>
        <DIV class=class_col2>
	  <input class=radio type=radio name=talk_cfg_environment value=0 ><div class="l40 radio_text"><?cgi string=str.indoor ?></div>
          <input class=radio type=radio name=talk_cfg_environment value=1 ><div class="l40 radio_text"><?cgi string=str.outdoor ?></div>
	  <input class=radio type=radio name=talk_cfg_environment value=2 ><div class="l40 radio_text"><?cgi string=str.noise ?></div>
	</DIV>
      </DIV>
  </div><!-- div_main -->
  <DIV class=class_row1>
    <DIV class=class_r1c1>
      <INPUT class=button value=<?cgi string=str.save ?> type=submit >&nbsp; 
    </DIV>
  </DIV>
  </div><!-- div_main_edge -->
</DIV>
       </FORM>
</CENTER>

<!-- ************* help page , must add iniHelpButton() in js segment ****************** -->
<div class="help_container">
  <div class="help_left"><div class="help_top_space"></div><div class="help_button_0" id="help_button" ></div></div>
  <div class="help_right_0" id="help_right">
    <div class="help_head" ><?cgi string=str.help_message ?></div>
    <iframe name=help class="help_text" frameBorder=0 src="" ></iframe>
  </div>
</div>
<!-- ************* help page end ****************** -->

</BODY>

<script language="javascript">
function bd_load(){
  window.frames["db"].document.location="/ini/sys_cfg.txt?time="+(new Date()).getTime();
  var ret = location.toString().substring(location.toString().lastIndexOf("/")+1, location.toString().indexOf(".htm")+4);
  window.frames["help"].document.location="/cache/Help"+ret+"?time="+(new Date()).getTime();
  iniHelpButton();
}

function db_load(){
  var str=window.frames["db"].document.body.innerHTML;
  str = str.replace("<pre>", "");
  str = str.replace("</pre>", "");
  str = str.replace("<PRE>", "");
  str = str.replace("</PRE>", "");

  var db=ini2json(str);

  document.forms[0].talk_cfg_volume_in.selectedIndex = parseInt(db.talk_cfg.volume_in);
  document.forms[0].talk_cfg_volume_out.selectedIndex = parseInt(db.talk_cfg.volume_out);
  document.forms[0].talk_cfg_volume_ring.selectedIndex = parseInt(db.talk_cfg.volume_ring);
  document.forms[0].talk_cfg_waiting_time.selectedIndex = parseInt(db.talk_cfg.waiting_time);

  put_radio("talk_cfg_is_pcm",parseInt(db.talk_cfg.is_pcm) );
  put_radio("talk_cfg_sample",parseInt(db.talk_cfg.sample) );
  put_radio("talk_cfg_mode_in",parseInt(db.talk_cfg.mode_in) );
  put_radio("talk_cfg_mode_out",parseInt(db.talk_cfg.mode_out) );
  put_radio("talk_cfg_key_down_call",parseInt(db.talk_cfg.key_down_call) );
  put_radio("talk_cfg_enable_join",parseInt(db.talk_cfg.enable_join) );
  put_radio("terminal_requesting_talk_hangup",parseInt(db.terminal.requesting_talk_hangup) );
  put_radio("terminal_accessing_talk_hangup",parseInt(db.terminal.accessing_talk_hangup) );
  put_radio("terminal_auto_answer",parseInt(db.terminal.auto_answer) );
  put_radio("talk_cfg_echo",parseInt(db.talk_cfg.echo) );
  put_radio("talk_cfg_environment",parseInt(db.talk_cfg.environment) );
}

function on_submit(){
  $("id_obj_ret").value=urlEncode($("id_obj_ret").value);
  return true;
}

</script>
</HTML>
